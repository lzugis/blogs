import{_ as s,o as a,c as l,O as n}from"./chunks/framework.ec4390fa.js";const o="/lzugis-blogs/img/frame/leaflet-core.png",d=JSON.parse('{"title":"leaflet","description":"","frontmatter":{},"headers":[],"relativePath":"frame/leaflet.md","filePath":"frame/leaflet.md"}'),p={name:"frame/leaflet.md"},e=n(`<h1 id="leaflet" tabindex="-1">leaflet <a class="header-anchor" href="#leaflet" aria-label="Permalink to &quot;leaflet&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">说明</p><p>Leaflet 是一个为基于浏览器、移动设备的友好的交互式地图，它的代码仅有 38 KB，但它具有开发人员开发在线地图的大部分功能。</p></div><ul><li><a href="https://leafletjs.com/" target="_blank" rel="noreferrer">官网</a></li><li><a href="https://github.com/Leaflet/Leaflet" target="_blank" rel="noreferrer">GitHub</a></li></ul><h2 id="_1-引入" tabindex="-1">1. 引入 <a class="header-anchor" href="#_1-引入" aria-label="Permalink to &quot;1. 引入&quot;">​</a></h2><p>Leaflet也可以通过两种方式引入，一种是script和link标签的方式引入。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://unpkg.com/leaflet@1.7.1/dist/leaflet.css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://unpkg.com/leaflet@1.7.1/dist/leaflet.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>另一种也是通过npm的方式进行引入：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">leaflet</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">–save</span></span></code></pre></div><p>先安装依赖，再引用：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> L </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">leaflet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">leaflet/dist/leaflet.css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="_2-核心类" tabindex="-1">2. 核心类 <a class="header-anchor" href="#_2-核心类" aria-label="Permalink to &quot;2. 核心类&quot;">​</a></h2><p>结合官方文档和GitHub源码，将Leaflet中的核心类及其子类之间的关系整理，如下图所示。 <img src="`+o+`" alt="" data-fancybox="gallery"></p><h3 id="_2-1-map" tabindex="-1">2.1 Map <a class="header-anchor" href="#_2-1-map" aria-label="Permalink to &quot;2.1 Map&quot;">​</a></h3><p>Map是leaflet的核心类，通过它可以在页面上创建并操作地图。其初始化方法为：<code>L.map(&lt;String|HTMLElement&gt; id, &lt;Map options&gt; options?)</code></p><h3 id="_2-2-marker" tabindex="-1">2.2 Marker <a class="header-anchor" href="#_2-2-marker" aria-label="Permalink to &quot;2.2 Marker&quot;">​</a></h3><p>用以展示在地图上可拖动或点击的图标，继承自 Layer，其初始化方法为：<code>L.marker(&lt;LatLng&gt; latlng, &lt;Marker options&gt; options?)</code></p><h3 id="_2-3-popup" tabindex="-1">2.3 Popup <a class="header-anchor" href="#_2-3-popup" aria-label="Permalink to &quot;2.3 Popup&quot;">​</a></h3><p>在地图上确定位置的弹出窗，其使用方式如下：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> popup </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">popup</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setLatLng</span><span style="color:#A6ACCD;">(latlng)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setContent</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;p&gt;Hello world!&lt;br /&gt;This is a nice popup.&lt;/p&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">openOn</span><span style="color:#A6ACCD;">(map)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-4-tooltip" tabindex="-1">2.4 Tooltip <a class="header-anchor" href="#_2-4-tooltip" aria-label="Permalink to &quot;2.4 Tooltip&quot;">​</a></h3><p>在地图上展示提示信息，使用方法为：<code>marker.bindTooltip(&quot;my tooltip text&quot;).openTooltip()</code>;</p><h3 id="_2-5-tilelayer" tabindex="-1">2.5 TileLayer <a class="header-anchor" href="#_2-5-tilelayer" aria-label="Permalink to &quot;2.5 TileLayer&quot;">​</a></h3><p>加载和展示切片图层，继承自 GridLayer。其创建方法为：<code>L.tilelayer(&lt;String&gt; urlTemplate, &lt;TileLayer options&gt; options?)</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">tileLayer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTo</span><span style="color:#A6ACCD;">(map)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-6-tilelayer-wms" tabindex="-1">2.6 TileLayer.WMS <a class="header-anchor" href="#_2-6-tilelayer-wms" aria-label="Permalink to &quot;2.6 TileLayer.WMS&quot;">​</a></h3><p>以切片的方式展示WMS服务，继承自 TileLayer。其初始化方法如下：<code>L.tileLayer.wms(&lt;String&gt; baseUrl, &lt;TileLayer.WMS options&gt; options)</code> 示例代码如下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> wmsLayer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> L</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tileLayer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wms</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://lzugis.cn/geoserver/lzugis/wms</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">layers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> lzugis:china</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">transparent</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">wmsLayer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTo</span><span style="color:#A6ACCD;">(map)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-7-imageoverlay" tabindex="-1">2.7 ImageOverlay <a class="header-anchor" href="#_2-7-imageoverlay" aria-label="Permalink to &quot;2.7 ImageOverlay&quot;">​</a></h3><p>在地图上展示固定范围的静态图片. 继承自Layer.其创建方法如下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imageOverlay</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> imageUrl, </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">LatLngBounds</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> bounds, </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">ImageOverlay</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">options</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> options?)\`</span></span></code></pre></div><p>示例代码如下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> imageUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://lzugis.cn/webgis-book/data/tem.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">imageBounds </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [[</span><span style="color:#F78C6C;">40.712216</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">74.22655</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">40.773941</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">74.12544</span><span style="color:#A6ACCD;">]]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">imageOverlay</span><span style="color:#A6ACCD;">(imageUrl</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> imageBounds)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTo</span><span style="color:#A6ACCD;">(map)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-8-path" tabindex="-1">2.8 Path <a class="header-anchor" href="#_2-8-path" aria-label="Permalink to &quot;2.8 Path&quot;">​</a></h3><p>抽象类，继承自Layer。<code>Polyline、Polygon、Rectangle、Circle、CircleMarker</code>等都通过Path创建.</p><h3 id="_2-9-layergroup" tabindex="-1">2.9 LayerGroup <a class="header-anchor" href="#_2-9-layergroup" aria-label="Permalink to &quot;2.9 LayerGroup&quot;">​</a></h3><p>图层组。继承自 Layer，其创建方法如下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">layerGroup</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Layer[]</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> layers</span><span style="color:#89DDFF;">?,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> options?)</span></span></code></pre></div><p>示例代码如下</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">layerGroup</span><span style="color:#A6ACCD;">([marker1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> marker2])</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addLayer</span><span style="color:#A6ACCD;">(polyline)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTo</span><span style="color:#A6ACCD;">(map)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-10-featuregroup" tabindex="-1">2.10 FeatureGroup <a class="header-anchor" href="#_2-10-featuregroup" aria-label="Permalink to &quot;2.10 FeatureGroup&quot;">​</a></h3><p>继承自 <code>LayerGroup</code> 。它的存在更加方便我们完成以下工作：</p><ul><li>一次性绑定弹出框或者提示框</li><li>一次性添加事件</li><li>图层添加和移除方法</li></ul><p>Featuregroup的创建方法为：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">featureGroup</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Layer[]</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> layers</span><span style="color:#89DDFF;">?,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> options?)</span></span></code></pre></div><p>示例代码如下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">featureGroup</span><span style="color:#A6ACCD;">([marker1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> marker2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> polyline])</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bindPopup</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello world!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">alert</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Clicked on a member of the group!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTo</span><span style="color:#A6ACCD;">(map)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="_2-11-geojson" tabindex="-1">2.11 GeoJSON <a class="header-anchor" href="#_2-11-geojson" aria-label="Permalink to &quot;2.11 GeoJSON&quot;">​</a></h2><p>在地图上展示geojson数据，继承自<code>FeatureGroup</code>其创建方法如下： geojson的创建方法为：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">geoJSON</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> geojson?, </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">GeoJSON</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">options</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> options?)</span></span></code></pre></div><p>示例代码如下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">geoJSON</span><span style="color:#A6ACCD;">(data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">style</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">feature</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">feature</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">properties</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bindPopup</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">layer</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">layer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">feature</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">properties</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">description</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTo</span><span style="color:#A6ACCD;">(map)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="_2-12-gridlayer" tabindex="-1">2.12 GridLayer <a class="header-anchor" href="#_2-12-gridlayer" aria-label="Permalink to &quot;2.12 GridLayer&quot;">​</a></h2><p>用于处理 HTML 元素的平铺网格的通用类，通过GridLayer可以创建html、标签的元素，创建方法为：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">gridLayer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">GridLayer</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">options</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> options?)</span></span></code></pre></div><p>示例代码如下。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> CanvasLayer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> L</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">GridLayer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extend</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">createTile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">coords</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">done</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">error</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 创建一个canvas画布</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tile</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">L</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DomUtil</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">canvas</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">leaflet-tile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 恩据切片参数设施大小</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">size</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">getTileSize</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">tile</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">width</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">size</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">tile</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">height</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">size</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">done</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">error</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tile</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tile</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="_2-12-其他" tabindex="-1">2.12 其他 <a class="header-anchor" href="#_2-12-其他" aria-label="Permalink to &quot;2.12 其他&quot;">​</a></h2><p>其他常用的类有：<strong><code>LatLng、latLngBounds、Point、Bounds、Icon、DivIcon</code></strong>。</p>`,58),t=[e];function r(c,y,D,F,i,C){return a(),l("div",null,t)}const u=s(p,[["render",r]]);export{d as __pageData,u as default};
