import{_ as a,o as s,c as e,R as p,am as t,an as n,ao as l,ap as o,aq as i,ar as c,as as r,at as m,au as d,av as y,aw as h,ax as g}from"./chunks/framework.QWNq-BiV.js";const q=JSON.parse('{"title":"数据与图层添加","description":"","frontmatter":{},"headers":[],"relativePath":"docs/basic/layer.md","filePath":"docs/basic/layer.md"}'),x={name:"docs/basic/layer.md"},_=p('<h1 id="数据与图层添加" tabindex="-1">数据与图层添加 <a class="header-anchor" href="#数据与图层添加" aria-label="Permalink to &quot;数据与图层添加&quot;">​</a></h1><h2 id="一、-添加数据" tabindex="-1">一、 添加数据 <a class="header-anchor" href="#一、-添加数据" aria-label="Permalink to &quot;一、 添加数据&quot;">​</a></h2><h3 id="_1-矢量数据添加" tabindex="-1">1. 矢量数据添加 <a class="header-anchor" href="#_1-矢量数据添加" aria-label="Permalink to &quot;1. 矢量数据添加&quot;">​</a></h3><p>前面概览里面介绍了QGIS支持的<a href="/qgis-cookbook/docs/basic/#_1-矢量数据">矢量数据的格式</a>，常见的格式包括：GeoPackage、ESRI Shapefile、MapInfo、SDTS、GML、geojosn、kml / kmz、gpx等。</p><p>QGIS中矢量数据的添加有三种方式：</p><ol><li><p>将对应格式的数据直接拖入到QGIS中；</p></li><li><p>在左侧的<strong>资源管理器面板</strong>中拖入或者右键<code>Add Layer to Project(添加图层到工程)</code>； <img src="'+t+'" alt="添加图层到工程" data-fancybox="gallery"></p></li><li><p>通过菜单栏<code>Layer -&gt; Add Layer -&gt; Add Vector Layer...</code>添加，如下图所示。 <img src="'+n+'" alt="添加矢量图层" data-fancybox="gallery"></p></li></ol><h3 id="_2-栅格数据的添加" tabindex="-1">2. 栅格数据的添加 <a class="header-anchor" href="#_2-栅格数据的添加" aria-label="Permalink to &quot;2. 栅格数据的添加&quot;">​</a></h3><p>QGIS<a href="/qgis-cookbook/docs/basic/#_2-栅格格式">支持的栅格数据的格式</a>在前面的概览里面也做了说明，有：GeoTIFF、ERDAS IMG、ArcInfo ASCII GRID、JPEG、PNG、NC等。栅格数据的添加与矢量数据的添加类似，有三种方式：</p><ol><li><p>将对应格式的数据直接拖入到QGIS中；</p></li><li><p>在左侧的<strong>资源管理器面板</strong>中拖入或者右键<code>Add Layer to Project(添加图层到工程)</code>；</p></li><li><p>通过菜单栏<code>Layer -&gt; Add Layer -&gt; Add Raster Layer...</code>添加，如下图所示。 <img src="'+l+'" alt="添加矢量图层" data-fancybox="gallery"></p></li></ol><h2 id="二、数据库添加" tabindex="-1">二、数据库添加 <a class="header-anchor" href="#二、数据库添加" aria-label="Permalink to &quot;二、数据库添加&quot;">​</a></h2><p>QGIS支持的数据库有PostGIS、SpatiaLite、MS SQL Spatial、Oracle Spatial等。</p><h3 id="_1-postgis数据库" tabindex="-1">1. PostGIS数据库 <a class="header-anchor" href="#_1-postgis数据库" aria-label="Permalink to &quot;1. PostGIS数据库&quot;">​</a></h3><p>此处以PostGIS为例，介绍如何在QGIS中添加PostGIS数据库。QGIS中添加数，据库有两种方式：</p><ol><li>在左侧的<strong>资源管理器面板</strong>中，<code>PostGIS -&gt; New Connection</code>. <img src="'+o+'" alt="创建新链接" data-fancybox="gallery"></li></ol><p>输入链接参数，创建数据库连接，如下图所示，可点击<code>Test Connection</code>测试链接是否可用。 <img src="'+i+'" alt="输入链接参数" data-fancybox="gallery"></p><p>输入参数包括：</p><ul><li>name：连接名称</li><li>host：连接地址</li><li>post：连接端口号</li><li>database：使用数据库</li><li>用户认证选择Basic，用户名和密码</li></ul><p>创建好连接后，可以在左侧的<strong>资源管理器面板</strong>中看到数据库连接，双击打开连接，将需要添加的图层通过右键<code>Add Layer to Project(添加图层到工程)</code>。</p><ol start="2"><li>通过菜单栏<code>Layer -&gt; Add Layer -&gt; Add PostGIS Layers</code>添加，如下图所示。 <img src="'+c+'" alt="添加PG图层" data-fancybox="gallery"></li></ol><p>点击“Connect”，在下面列出的图层里面选中要添加的点击“Add”即可。</p><h2 id="三、服务" tabindex="-1">三、服务 <a class="header-anchor" href="#三、服务" aria-label="Permalink to &quot;三、服务&quot;">​</a></h2><h3 id="_1-xzy栅格切片添加" tabindex="-1">1. XZY栅格切片添加 <a class="header-anchor" href="#_1-xzy栅格切片添加" aria-label="Permalink to &quot;1. XZY栅格切片添加&quot;">​</a></h3><p>栅格切片的添加与数据库的添加类似，有两种方式。</p><ol><li>在左侧的<strong>资源管理器面板</strong>中，<code>XYZ Tile -&gt; New Connection</code>.</li></ol><p>输入链接参数，创建数据库连接，如下图所示，可点击<code>Test Connection</code>测试链接是否可用。 <img src="'+r+`" alt="输入链接参数" data-fancybox="gallery"></p><p>连接参数包括：</p><ul><li>name：连接名称</li><li>url： 连接地址</li><li>minZoom：最小缩放级别</li><li>maxZoom：最大缩放级别</li></ul><p>创建好连接后，可以在左侧的<strong>资源管理器面板</strong>中看到连接，通过右键<code>Add Layer to Project(添加图层到工程)</code>。</p><p>为方面使用，下面列出了常用的XYZ栅格切片的地址。</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 高德</span></span>
<span class="line"><span>路网：https://webrd0{1-4}.is.autonavi.com/appmaptile?style=8&amp;x={x}&amp;y={y}&amp;z={z}&amp;lang=zh_cn&amp;size=1&amp;scale=1</span></span>
<span class="line"><span>标注带路网：https://webst0{1-4}.is.autonavi.com/appmaptile?style=8&amp;x={x}&amp;y={y}&amp;z={z}&amp;lang=zh_cn&amp;size=1&amp;scale=1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>webst0 wprd0 都可以</span></span>
<span class="line"><span>影像：https://webst0{1-4}.is.autonavi.com/appmaptile?style=6&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>影像标注：https://wprd0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&amp;size=1&amp;x={x}&amp;y={y}&amp;z={z}&amp;scl=4&amp;style=8&amp;ltype=4</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 谷歌</span></span>
<span class="line"><span>道路：https://gac-geo.googlecnapps.cn/maps/vt?lyrs=m&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>      https://mt{0-3}.google.com/vt/lyrs=m&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>影像：https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>      https://mt{0-3}.google.com/vt/lyrs=s&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>影像+标注：https://gac-geo.googlecnapps.cn/maps/vt?lyrs=y&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>           https://mt{0-3}.google.com/vt/lyrs=y&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>标注：https://gac-geo.googlecnapps.cn/maps/vt?lyrs=h&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>      https://mt{0-3}.google.com/vt/lyrs=h&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>地形：https://gac-geo.googlecnapps.cn/maps/vt?lyrs=p&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>      https://mt{0-3}.google.com/vt/lyrs=p&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>交通：https://gac-geo.googlecnapps.cn/maps/vt?lyrs=h@159000000,traffic|seconds_into_week:-1&amp;style=3&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span>      https://mt{0-3}.google.com/vt?lyrs=h@159000000,traffic|seconds_into_week:-1&amp;style=3&amp;x={x}&amp;y={y}&amp;z={z}</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 天地图</span></span>
<span class="line"><span>道路：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=vec_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span>道路标注：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=cva_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span>影像：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=img_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span>影像标注：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=cia_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span>影像路网：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=ibo_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span>地形：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=ter_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span>地形标注：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=cta_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span>地形边界：http://t{0-7}.tianditu.com/DataServer?tk=你的tk&amp;T=tbo_w&amp;x={x}&amp;y={y}&amp;l={z}</span></span>
<span class="line"><span></span></span>
<span class="line"><span># geoq</span></span>
<span class="line"><span>路网：https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}</span></span>
<span class="line"><span>灰色：https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}</span></span>
<span class="line"><span>暗黑：https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}</span></span>
<span class="line"><span>暖色：https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}</span></span></code></pre></div><ol start="2"><li>通过菜单栏<code>Layer -&gt; Add Layer -&gt; Add XYZ Tile</code>添加，可通过<code>New</code>新建连接，选择已创建的连接，点击<code>Add</code>添加。</li></ol><h3 id="_2-wms-wmts服务" tabindex="-1">2. WMS/WMTS服务 <a class="header-anchor" href="#_2-wms-wmts服务" aria-label="Permalink to &quot;2. WMS/WMTS服务&quot;">​</a></h3><p>WMS是Web地图服务（<code>Web Map Server</code>）的缩写，是一种基于<code>OGC</code>标准的地图服务，通过<code>HTTP</code>请求获取地图数据。WMS的添加跟XYZ Tile类似，也可通过菜单栏<code>Layer -&gt; Add Layer -&gt; Add WMS/WMTS Layer...</code>添加。也可通过在左侧的<strong>资源管理器面板</strong>中，<code>WMS/WMTS -&gt; New Connection</code>添加，如下图所示。</p><p><img src="`+m+'" alt="wms" data-fancybox="gallery"></p><p>连接参数包括：</p><ul><li>name：连接名称</li><li>url：服务地址</li></ul><p>双击连接名称，会自动连接服务，并列出服务下的所有可用图层，如下图所示，选中图层，右键<code>Add Layer to Project(添加图层到工程)</code>。</p><p><img src="'+d+'" alt="wms浏览器" data-fancybox="gallery"></p><h3 id="_3-wfs服务" tabindex="-1">3. WFS服务 <a class="header-anchor" href="#_3-wfs服务" aria-label="Permalink to &quot;3. WFS服务&quot;">​</a></h3><p>WFS是Web要素服务（<code>Web Feature Server</code>）的缩写，是一种基于<code>OGC</code>标准的地图服务。WFS服务的添加与WMS服务的添加类似。通过菜单栏的方式就不再赘述。</p><p>通过在左侧的<strong>资源管理器面板</strong>中，<code>WFS/OGC API-Features -&gt; New Connection</code>添加，如下图所示。</p><p><img src="'+y+'" alt="wfs" data-fancybox="gallery"></p><p>连接参数包括：</p><ul><li>name：连接名称</li><li>url：服务地址</li></ul><h2 id="四、其他" tabindex="-1">四、其他 <a class="header-anchor" href="#四、其他" aria-label="Permalink to &quot;四、其他&quot;">​</a></h2><h3 id="_1-csv" tabindex="-1">1. csv <a class="header-anchor" href="#_1-csv" aria-label="Permalink to &quot;1. csv&quot;">​</a></h3><p>可以通过<code>Layer -&gt; Add Layer -&gt; Add Delimited Text Layer</code>添加，如下图所示。 <img src="'+h+'" alt="csv" data-fancybox="gallery"></p><div class="warning custom-block"><p class="custom-block-title">注意</p><ol><li>如为空间数据，csv文件中需包含x、y或wkt字段；</li><li>文件编码格式，可通过下面的示例数据选择合适的编码，如有中文，则选择<code>UTF-8</code>或<code>GBK</code>；</li><li>在文件输入需制定投影信息，默认为<code>EPSG:4326</code>；</li></ol></div><h3 id="_2-vector-tiles" tabindex="-1">2. Vector Tiles <a class="header-anchor" href="#_2-vector-tiles" aria-label="Permalink to &quot;2. Vector Tiles&quot;">​</a></h3><p>矢量切片的添加跟WMS的也比较类似，可通过菜单和资源管理器面板进行添加。左侧的<strong>资源管理器面板</strong>中，<code>Vector Tiles -&gt; New Connection</code>添加，如下图所示。 <img src="'+g+'" alt="csv" data-fancybox="gallery"></p><p>参数包括：</p><ul><li>name：连接名称（maplibre）</li><li>url：服务地址（<a href="https://demotiles.maplibre.org/tiles/%7Bz%7D/%7Bx%7D/%7By%7D.pbf%EF%BC%89" target="_blank" rel="noreferrer">https://demotiles.maplibre.org/tiles/{z}/{x}/{y}.pbf）</a></li><li>Style Url: 可选参数，样式地址（<a href="https://demotiles.maplibre.org/style.json%EF%BC%89" target="_blank" rel="noreferrer">https://demotiles.maplibre.org/style.json）</a></li></ul><div class="warning custom-block"><p class="custom-block-title">注意</p><p>如设置了Style Url，则地图会根据该样式进行渲染，但由于Web端和桌面端的差异，有些样式没法完全与Web保持一致，可进行手动调整。</p></div>',53),b=[_];function u(S,v,z,f,k,P){return s(),e("div",null,b)}const G=a(x,[["render",u]]);export{q as __pageData,G as default};
